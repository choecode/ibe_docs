{
  "code": 200,
  "msg": "处理成功！",
  "data": {
    "id": "17279185038868885",
    "apiCode": "E75",
    "apiNameEn": "AirOriginalIssueOrder",
    "apiNameCn": "手工换开（订单）",
    "introduce": "OI手工换开接口，支持代理人手工换开场景。\r\n2.版本\r\n主要内容\u0007\n手工换开（订单）\u0007\n参考文档\u0007\n创建部门\u0007\n批准单\u0007\n版本号：\u0007\n批准人\u0007\n批准人签字\u0007\n批准日期\u0007\n文档控制",
    "business": "OI手工换开，支持单张客票换开和连续客票换开。",
    "functions": "同黑屏指令OI功能，\r\n1-单张客票换开\r\n成人\r\nOI:ET/999-1234567890#0034 PEK 01FEB3 08300014 P2\r\n婴儿\r\nOI:ET/IN/999-1234512345#0034 PEK 01FEB3 08300014 P2\r\n示例解释: \r\nET                  电子客票换开标识,固定格式\r\nIN                  婴儿标识\r\n999-1234567890      原始票号 \r\n#0034               票号对应的航段序号\r\nPEK                 原出票城市 \r\n01FEB3              原客票出票日期,年份要输入个位数\r\n08300014            原出票OFFICE的航协号 \r\nP2                  指定旅客\r\n2-连续客票换开 \r\nOI:ET/999-1234567890-91#00341200 SHA 17AUG3 08301101 P1\r\n示例解释:\r\n999-1234567890-91   连续客票票号,第二张只需输入票号后两位\r\n#00341200           两张票号对应的航段序号\r\n备注:\r\n票联处以0000分别代表客票的换开票联\r\n并以相应的数字代表需要换开的航段\r\n用第一联来换             1000\r\n用第二,三联来换          0230\r\n用第一,二,三,四联来换    1234\r\n5.接口说明\r\n5.1请求参数说明\r\n| 元素名称  | 说明  | Rep | 类型 | 默认值 | 备注 |\n\r| TES_AirOriginalIssueOrderRQ |  | 1 |  |  |  |\n\r|  POS | 零售商信息 | 1 |  |  |  |\n\r|  Source |  |  |  |  |  |\n\r|  @PseudoCityCode | 伪城市代码（Office代码） | 1 | String |  | 如：PEK099 |\n\r|  AirOriginalIssueOrderInfo |  | 1 |  |  |  |\n\r|  @InfantInd | 婴儿标识 | 0..1 | Boolean | false | 不传为false |\n\r| BookingReferenceID | PNR号或订单号信息 | 2 |  |  |  |\n\r| @ID | 值 | 1 | String |  | PNR号或订单号 |\n\r| @ID_Context | 类型 | 1 | String |  | PNR或ORDER |\n\r|  Coupon | 要换开的票联号 | 0..1 | String |  | 要换开的票联号 示例如： 换开第二联：0200 换开第一第三联：1030 换开连票号（共三连票，10航段）的所有航段：123412341200. |\n\r| IssueCity | 原出票城市 | 0..1 | String |  |  |\n\r| IssueDate | 原出票日期 | 0..1 | String |  | 原客票出票日期，格式yyyy-MM-dd |\n\r| IssueOfficeIATA | 原出票Office IATA号 | 0..1 | String |  | 如：08300014 |\n\r| OIType | OIType | 0..1 | Integer | 4 | 默认 4； 1为ICS ET一般OI的输入 OI:[IN/](an)nn-nnnnnnnnnn#nnnn Pn 票号 tktno #coupon 旅客ID 2 PTA 预订票款(PTA) 录入PTA的原票证号码 3 PE PE换开 OI:PE/[IN/](an)nn-nnnnnnnnnn Pn 4 CRS格式 OI:ET/[IN/](an)nn-nnnnnnnnn[-nn]#nnnn[nnnn] AAA DDMMMY nnnnnnnn Pn 票号 tktno #coupon 出票city 出票日（一位年） office（iatano表示） 旅客ID 5 ES OI:ES/[IN/](an)nn-nnnnnnnnn[-nn]#nnnn[nnnn] AAA DDMMMY nnnnnnnn Pn |\n\r| PassengerName | 旅客姓名 | 0..1 | String |  | 旅客姓名：旅客姓名是和pnr里的旅客姓名比对来计算pn的，与姓名组里的旅客一致，所以姓名组里是中文或英文都可以，如果是婴儿需输入对应的成人姓名而非婴儿姓名 |\n\r| SecondCoupon | 第二原出票票联 | 0..1 | String |  | 联票使用Coupon和TktNo字段 |\n\r| SecondTktNo | 用两张票/两张连票换开时的第二原出票票号 | 0..1 | String |  | 联票使用Coupon和TktNo字段 |\n\r| TktNo | 票号 | 1 | String |  | 连票应当是连票号的形式 格式：999-2201234567 999-2201234567-69 |\n\r| InputCode | inputCode | 0..1 | String |  |  |\n5.2响应参数说明\r\n| 元素名称  | 说明 | Rep | 类型 | 默认值 | 备注 |\n\r| TES_AirOriginalIssueOrderRS |  | 1 |  |  |  |\n\r|  Errors | 错误信息 | 0..1 |  |  |  |\n\r|  Error |  | 0..1 |  |  |  |\n\r|  @Code | 错误代码 | 0..1 | String |  |  |\n\r|  @Type | 错误类型 | 0..1 | String |  |  |\n\r|  @ShortText | 错误详细信息 | 0..1 | String |  |  |\n\r|  Warnings | 警告信息 | 0..1 |  |  |  |\n\r|  Warning |  | 0..1 |  |  |  |\n\r|  @Code | 警告代码 | 0..1 | String |  |  |\n\r|  @Type | 警告类型 | 0..1 | String |  |  |\n\r|  @ShortText | 警告详细信息 | 0..1 | String |  |  |\n\r|  Result | 返回 | 0..1 | String |  | 成功为OK |\n\r|  BookingReferenceID | PNR号或订单号信息 | 0..2 |  |  |  |\n\r|  @ID | 值 | 1 | String |  | PNR号或订单号 |\n\r|  @ID_Context | 类型 | 1 | String |  | PNR或ORDER |\n6.错误说明\r\n6.1 http协议错误\r\n由于接口为HTTP接口，HTTP协议会返回403错误：\r\n| http错误代码 | 说明 |\n\r| 403 | 用户名、密码、IP错误或无权限 |\n\r|  |  |\n6.2接口错误\r\n<Errors>节点记录了错误信息。错误信息分为两类：业务错误、系统错误。详细见下表：\r\n系统错误\r\n| 错误代码 | 错误描述 | 说明 |\n\r| -303 | inner service error | 内部服务异常 |\n\r| -304 | sending commands too fast, try again later | 访问速度过快,请稍后再试 |\n\r| -305 | transaction times limited | 访问次数限制 |\n\r| -301 | office permission denied | Office 没有权限 |\n\r| -390 | IBE Service Error | IBE服务异常 |\n\r| -311 | time out, please try again later | 操作超时，请稍后再试 |\n\r| -306 | too many concurrent request for service | 访问频率限制 |\n业务错误\r\n| 错误代码 | 错误描述 | 说明 |\n\r| -1 | Biz Error | 业务异常 |\n\r| -400 | format of xml string is not valid | xml内容格式错误 |\n\r| -402 | Input error! | 输入参数出错 |\n7.参考样例\r\n7.1 手工换开\r\n输入样例：\r\n<TES_AirOriginalIssueOrderRQ>\r\n    <POS>\r\n        <Source PseudoCityCode=\"BJS191\"/>\r\n    </POS>\r\n    <AirOriginalIssueOrderInfo>\r\n        <BookingReferenceID ID=\"JY4MPM\" ID_Context=\"PNR\"/>\r\n        <BookingReferenceID ID=\"240422112653d4bf4ba\" ID_Context=\"ORDER\"/>\r\n        <Coupon>0200</Coupon>\r\n        <IssueCity>PEK</IssueCity>\r\n        <IssueDate>2024-04-22</IssueDate>\r\n        <IssueOfficeIATA>08300014</IssueOfficeIATA>\r\n        <PassengerName>ZHOU/XIAO</PassengerName>\r\n        <TktNo>999-6923960933</TktNo>\r\n    </AirOriginalIssueOrderInfo>\r\n</TES_AirOriginalIssueOrderRQ>\r\n输出样例：\r\n<TES_AirOriginalIssueOrderRS>\r\n    <Result>OK</Result>\r\n    <BookingReferenceID ID=\"JY4MPM\" ID_Context=\"PNR\"/>\r\n    <BookingReferenceID ID=\"240422112653d4bf4ba\" ID_Context=\"ORDER\"/>\r\n</TES_AirOriginalIssueOrderRS>\r\n 8.接口调用\r\n    手工换开（订单）提供基于XML文档规范的标准HTTP协议接口，通过在标准HTTP通道上传输XML格式的请求和数据来完成服务调用。服务的输入输出定义在标准的XSD文档中，用户根据自有系统的实现环境结合XSD文档进行数据到对象间的转换。在线分销平台提供服务接口URL,用户使用HTTP协议按照服务定义正确构造请求输入，正确解析数据输出实现服务的调用。\r\n8.1接口申请\r\n    请与您所在城市的中国航信分支机构联系，资质审查通过后签署试用协议，即可获得试用接口。\r\n8.2接口认证\r\n授权用户调用试用接口时需要使用已分配的账号和密码、并使用申请时的IP。如果已变化IP请联系业务人员申请变更IP。\r\n8.3接口地址\r\n接口试用地址：\u0013 HYPERLINK \"http://espeed.travelsky.com/develop/xml/AirFareFlightShop/I\" \u0014https://linkstar.travelsky.com.cn/develop/xml/\u0015AirOriginalIssueOrder\r\n8.4 HTTP请求参数说明\r\n|  参数名称  | 说明 | 类型 | 备注 |\n\r|  EchoToken | 用户可根据需要在请求HTTP Header中传入该参数，标识本次请求，便于排查问题 | String | 格式：[a-zA-Z0-9]{0,128}， 使用方式详见调用样例 |\n8.5 HTTP响应参数说明\r\n|  参数名称  | 说明 | 类型 | 备注 |\n\r| CorrelationID | 本次接口调用唯一标识（接口内保证唯一）。问题排查需要提供该字符串，可以快速定位问题。用户可根据需要获取该字段。 | String | 格式：[a-zA-Z0-9]{0,32} 使用方式详见调用样例 |\n\r|  TimeStamp | 接口接收到请求时间 | Date | 格式： 2016-10-17T14:45:34.234+0800 使用方式详见调用样例 |\n\r|  EchoToken | 传入值与返回值一致，如传入：abcd1234，返回abcd1234 | String | 格式：[a-zA-Z0-9]{0,128} 使用方式详见调用样例 |\n8.6调用示例\r\n下载地址：\r\nhttps://linkstar.travelsky.com.cn/ezaccess/download/callSample",
    "requestSchema": "[{\"name\":\"TES_AirOriginalIssueOrderRQ\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"手工换开请求（订单）\",\"children\":[{\"name\":\"POS\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"Point Of Sale\",\"children\":[{\"name\":\"Source\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"请求者信息\",\"children\":[{\"name\":\"@PseudoCityCode\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"伪城市代码（Office代码：PKE099）\",\"children\":[],\"default\":\"\"}],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"AirOriginalIssueOrderInfo\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"\",\"children\":[{\"name\":\"BookingReferenceID\",\"type\":\"array\",\"quantity\":\"0..2\",\"description\":\"PNR号和订单号信息\",\"children\":[{\"name\":\"@ID\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"PNR号或订单号\",\"children\":[],\"default\":\"\"},{\"name\":\"@ID_Context\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"标识类型\",\"children\":[],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"Coupon\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"要换开的票联号 示例如： 换开第二联：0200 换开第一第三联：1030\\n                            换开连票号（共三连票，10航段）的所有航段：123412341200.\",\"children\":[],\"default\":\"\"},{\"name\":\"IssueCity\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"原出票城市.\",\"children\":[],\"default\":\"\"},{\"name\":\"IssueDate\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"原出票日期.\",\"children\":[],\"default\":\"\"},{\"name\":\"IssueOfficeIATA\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"原出票Office IATA号\",\"children\":[],\"default\":\"\"},{\"name\":\"OIType\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"OI\",\"children\":[],\"default\":\"\"},{\"name\":\"PassengerName\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"旅客姓名.\",\"children\":[],\"default\":\"\"},{\"name\":\"SecondCoupon\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"第二原出票票联.\",\"children\":[],\"default\":\"\"},{\"name\":\"SecondTktNo\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"用两张票/两张连票换开时的第二原出票票号.\",\"children\":[],\"default\":\"\"},{\"name\":\"TktNo\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"票号，连票应当是连票号的形式 格式： 999-2201234567 999-2201234567-69.\",\"children\":[],\"default\":\"\"},{\"name\":\"InputCode\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"InputCode\",\"children\":[],\"default\":\"\"},{\"name\":\"@InfantInd\",\"type\":\"boolean\",\"quantity\":\"1\",\"description\":\"婴儿标识\",\"children\":[],\"default\":\"false\"}],\"default\":\"\"}],\"default\":\"\"}]",
    "responseSchema": "[{\"name\":\"TES_AirOriginalIssueOrderRS\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"手工换开返回（订单）\",\"children\":[{\"name\":\"Warnings\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"警告信息集合\",\"children\":[{\"name\":\"Warning\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"警告信息\",\"children\":[{\"name\":\"Trace\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误详细描述或者内部异常信息\",\"children\":[{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"编码\",\"children\":[],\"default\":\"\"},{\"name\":\"@Text\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"文本\",\"children\":[],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"警告代码(数字)\",\"children\":[],\"default\":\"\"},{\"name\":\"@Type\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"警告类型\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortText\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"警告描述信息(英文)\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortTextZH\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"警告描述信息(中文)\",\"children\":[],\"default\":\"\"}],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"Errors\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误信息集合\",\"children\":[{\"name\":\"Error\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误信息\",\"children\":[{\"name\":\"Trace\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误详细描述或者内部异常信息\",\"children\":[{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"编码\",\"children\":[],\"default\":\"\"},{\"name\":\"@Text\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"文本\",\"children\":[],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误代码（数字）\",\"children\":[],\"default\":\"\"},{\"name\":\"@Type\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误类型\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortText\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误描述信息（英文）\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortTextZH\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"错误描述信息（中文）\",\"children\":[],\"default\":\"\"}],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"Result\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"\",\"children\":[],\"default\":\"\"},{\"name\":\"BookingReferenceID\",\"type\":\"array\",\"quantity\":\"0..2\",\"description\":\"PNR号和订单号信息\",\"children\":[{\"name\":\"@ID\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"PNR号或订单号\",\"children\":[],\"default\":\"\"},{\"name\":\"@ID_Context\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"标识类型\",\"children\":[],\"default\":\"\"}],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"Errors\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"错误信息集合\",\"children\":[{\"name\":\"Error\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误信息\",\"children\":[{\"name\":\"Trace\",\"type\":\"array\",\"quantity\":\"0..n\",\"description\":\"错误详细描述或者内部异常信息\",\"children\":[{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"编码\",\"children\":[],\"default\":\"\"},{\"name\":\"@Text\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"文本\",\"children\":[],\"default\":\"\"}],\"default\":\"\"},{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误代码（数字）\",\"children\":[],\"default\":\"\"},{\"name\":\"@Type\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误类型\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortText\",\"type\":\"string\",\"quantity\":\"1\",\"description\":\"错误描述信息（英文）\",\"children\":[],\"default\":\"\"},{\"name\":\"@ShortTextZH\",\"type\":\"object\",\"quantity\":\"1\",\"description\":\"错误描述信息（中文）\",\"children\":[],\"default\":\"\"}],\"default\":\"\"}],\"default\":\"\"}]",
    "errorCodes": "[]",
    "createTime": "2025-07-10T17:25:15.037+08:00",
    "createUser": "jiangdequan",
    "updateTime": "2025-09-03T16:43:04.417+08:00",
    "updateUser": null,
    "qaApiDemos": [
      {
        "id": "22259364855284364",
        "apiDocId": 17279185038868885,
        "seqNumber": 1,
        "demoDesc": "手工换开.xml",
        "request": "<TES_AirOriginalIssueOrderRQ>\r\n    <POS>\r\n        <Source PseudoCityCode=\"BJS191\"/>\r\n    </POS>\r\n    <AirOriginalIssueOrderInfo>\r\n        <BookingReferenceID ID=\"JY4MPM\" ID_Context=\"PNR\"/>\r\n        <BookingReferenceID ID=\"240422112653d4bf4ba\" ID_Context=\"ORDER\"/>\r\n        <Coupon>0200</Coupon>\r\n        <IssueCity>PEK</IssueCity>\r\n        <IssueDate>2024-04-22</IssueDate>\r\n        <IssueOfficeIATA>08300014</IssueOfficeIATA>\r\n        <PassengerName>ZHOU/XIAO</PassengerName>\r\n        <TktNo>999-6923960933</TktNo>\r\n    </AirOriginalIssueOrderInfo>\r\n</TES_AirOriginalIssueOrderRQ>",
        "response": null,
        "createTime": "2025-09-03T16:43:04.595+08:00",
        "createUser": "jiangdequan",
        "updateTime": null,
        "updateUser": null
      }
    ],
    "url": "/xml/AirOriginalIssueOrder"
  }
}