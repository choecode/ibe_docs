{
  "code": 200,
  "msg": "处理成功！",
  "data": {
    "id": "17278763390731223",
    "apiCode": "E18",
    "apiNameEn": "AirTicketVoidOrder",
    "apiNameCn": "国内自动废票（订单）",
    "introduce": "自动废票（订单）服务是在线分销平台上的一个自动化操作环节的重要服务。  \r\n自动废票（订单）服务(AirTicketVoidOrder)提供的服务是：在航信在线分销平台上，根据客户请求，对已出票的订单、客票进行废票的操作，主要涉及到废票和取消座位。",
    "business": "本接口实现自动废票的功能。",
    "functions": "本版本支持的自动废票场景如下：\r\n整单废票（订单号+全部票号）\r\n部分客票废票（订单号+涉及的票号）\r\n不支持的场景目前有：\r\n不含有订单号 \r\n联票。\r\n婴儿票。\r\nBOP废票\r\nAL本票废票",
    "requestSchema": "[{\"name\":\"OTA_AirTicketVoidRQ\",\"type\":\"object\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"航空作废电子客票请求信息\",\"children\":[{\"name\":\"POS\",\"type\":\"object\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"非订单（或淘宝订单）情况下必输\",\"children\":[{\"name\":\"Source\",\"type\":\"array\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"非订单（或淘宝订单）情况下必输\",\"children\":[{\"name\":\"@PseudoCityCode\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"Office代码，如果输入了就要做权限验证\",\"children\":[]},{\"name\":\"@OtherID\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"打票机号，如果输入了就要做权限验证\",\"children\":[]}]}]},{\"name\":\"TicketVoidDetails\",\"type\":\"array\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"废票列表信息\",\"children\":[{\"name\":\"TicketVoidDetail\",\"type\":\"object\",\"quantity\":\"1..n\",\"default\":\"\",\"description\":\"废票信息\",\"children\":[{\"name\":\"BookingReferenceID\",\"type\":\"array\",\"quantity\":\"1..n\",\"default\":\"\",\"description\":\"订单号或PNR号信息\",\"children\":[{\"name\":\"@ID\",\"type\":\"string\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"订单号或PNR号\",\"children\":[]},{\"name\":\"@ID_Context\",\"type\":\"string\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"类别\",\"children\":[]}]},{\"name\":\"TicketItemInfo\",\"type\":\"object\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"票面信息\",\"children\":[{\"name\":\"@TicketNumber\",\"type\":\"string\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"票号\",\"children\":[]},{\"name\":\"@EndTicketNumber\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"结束票号（联票），当AL和BOP联票废票时，需要传入该节点。\",\"children\":[]}]},{\"name\":\"PassengerName\",\"type\":\"object\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"\",\"children\":[{\"name\":\"@Surname\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"需要废票的旅客姓名\",\"children\":[]}]},{\"name\":\"IsBOP\",\"type\":\"boolean\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"是否为BOP类型客票\",\"children\":[]},{\"name\":\"TicketPrintNumber\",\"type\":\"int\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"打票机号\",\"children\":[]}]}]},{\"name\":\"@CancelSeatInd\",\"type\":\"boolean\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"是否取消座位\",\"children\":[]},{\"name\":\"@TicketType\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"票证类型，支持BSP、AL（本票）、BOP。若不填写， 则按照BSP票处理。\",\"children\":[]}]}]",
    "responseSchema": "[{\"name\":\"OTA_AirTicketVoidRS\",\"type\":\"object\",\"quantity\":\"1\",\"default\":\"\",\"description\":\"航空作废电子客票响应信息\",\"children\":[{\"name\":\"Success\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"成功信息\",\"children\":[]},{\"name\":\"Errors\",\"type\":\"object\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误信息集合\",\"children\":[{\"name\":\"Error\",\"type\":\"array\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误信息\",\"children\":[{\"name\":\"Trace\",\"type\":\"array\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误详细描述或者内部异常信息\",\"children\":[{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"编码\",\"children\":[]},{\"name\":\"@Text\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"文本\",\"children\":[]}]},{\"name\":\"@Code\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误代码(数字)\",\"children\":[]},{\"name\":\"@Type\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误类型\",\"children\":[]},{\"name\":\"@ShortText\",\"type\":\"string\",\"quantity\":\"0..1\",\"default\":\"\",\"description\":\"错误描述信息(英文)\",\"children\":[]}]}]}]}]",
    "errorCodes": "[{\"code\":\" 403 \",\"name\":null,\"msg\":null,\"msgZh\":\" 用户名、密码、IP错误或无权限 \"},{\"code\":\" -303 \",\"name\":null,\"msg\":\" Inner service error! \",\"msgZh\":\" 内部服务错误 \"},{\"code\":\" -308 \",\"name\":null,\"msg\":\" order permission denied \",\"msgZh\":\" order认证失败 \"},{\"code\":\" -402 \",\"name\":null,\"msg\":\" input error \",\"msgZh\":\" 输入错误 \"},{\"code\":\" -500 \",\"name\":null,\"msg\":\" office code is empty \",\"msgZh\":\" office代码为空 \"},{\"code\":\" -560 \",\"name\":null,\"msg\":\" pnr locator is empty \",\"msgZh\":\" pnr号为空 \"},{\"code\":\" -561 \",\"name\":null,\"msg\":\" printer number is empty \",\"msgZh\":\" 打印机号为空 \"},{\"code\":\" -790 \",\"name\":null,\"msg\":\" format of ticket number is not valid \",\"msgZh\":\" 票号格式错误 \"},{\"code\":\" -10020 \",\"name\":null,\"msg\":\" passenger not found \",\"msgZh\":\" 没有找到旅客信息 \"},{\"code\":\" -10060 \",\"name\":null,\"msg\":\" pnr does not exist \",\"msgZh\":\" pnr不存在 \"},{\"code\":\" -10080 \",\"name\":null,\"msg\":\" the ticket information is not found \",\"msgZh\":\" 找不到客票信息 \"},{\"code\":\" -50011 \",\"name\":null,\"msg\":\" status of printer is not normal \",\"msgZh\":\" 打票机状态错误 \"},{\"code\":\" -50020 \",\"name\":null,\"msg\":\" status of ticket is not valid \",\"msgZh\":\" 客票状态错误 \"},{\"code\":\" -60012 \",\"name\":null,\"msg\":\" order not found \",\"msgZh\":\" 找不到订单 \"},{\"code\":\" -61304 \",\"name\":null,\"msg\":\" fail to cancel seats after ticket void success \",\"msgZh\":\" 废票成功，但删除座位失败 \"},{\"code\":\" -565 \",\"name\":null,\"msg\":\" Non platform booking PNR \",\"msgZh\":\" 非平台预定PNR，不可执行该操作 \"},{\"code\":\" -61308 \",\"name\":null,\"msg\":\" imported tickets, cannot execute void \",\"msgZh\":\" 客票为线下导入，接口不做处理 \"},{\"code\":\" -60041 \",\"name\":null,\"msg\":\" fail to finish the transactions partly \",\"msgZh\":\" 操作部分失败 \"},{\"code\":\" -60042 \",\"name\":null,\"msg\":\" fail to finish the transaction \",\"msgZh\":\" 操作失败 \"}]",
    "createTime": "2025-07-10T17:18:32.000+08:00",
    "createUser": "jiangdequan",
    "updateTime": "2025-09-19T17:00:46.000+08:00",
    "updateUser": "xyi",
    "qaApiDemos": [
      {
        "id": "22338673028628854",
        "apiDocId": 17278763390731223,
        "seqNumber": 1,
        "demoDesc": "BOP废票+五类票.xml",
        "request": "<OTA_AirTicketVoidRQ TicketType=\"BOP\" CancelSeatInd=\"false\">\r\n    <TicketVoidDetails>\r\n        <TicketVoidDetail>\r\n            <BookingReferenceID ID=\"190611163132bceeee2\" ID_Context=\"ORDER\"/>\r\n            <TicketItemInfo TicketNumber=\"675-3114777066\"/>\r\n            <TicketPrintNumber>9</TicketPrintNumber>\r\n        </TicketVoidDetail>\r\n    </TicketVoidDetails>\r\n</OTA_AirTicketVoidRQ>",
        "response": "<OTA_AirTicketVoidRS OperationNo=\"190611163132bceeee2\">\n\t<Success>废票操作SUCCESS！</Success>\n</OTA_AirTicketVoidRS>\t",
        "createTime": "2025-09-04T13:43:38.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": "2025-09-19T17:02:51.000+08:00",
        "updateUser": "xyi"
      },
      {
        "id": "22338673130340434",
        "apiDocId": 17278763390731223,
        "seqNumber": 2,
        "demoDesc": "BOP废票（订单号+全部票号.xml",
        "request": "<OTA_AirTicketVoidRQ CancelSeatInd=\"true\">\r\n<TicketVoidDetails>\r\n    <TicketVoidDetail>\r\n        <BookingReferenceID ID=\"13051614030008f6bcx\" ID_Context=\"ORDER\"/>\r\n        <TicketItemInfo TicketNumber=\"999-3950300442\"/>\r\n        <IsBOP>true</IsBOP>\r\n        <TicketPrintNumber>9</TicketPrintNumber>\r\n    </TicketVoidDetail>\r\n</TicketVoidDetails>\r\n</OTA_AirTicketVoidRQ>",
        "response": "<OTA_AirTicketVoidRS OperationNo=\"13051614030008f6bcx\">\n\t<Success>废票操作SUCCESS！</Success>\n</OTA_AirTicketVoidRS>\t",
        "createTime": "2025-09-04T13:43:38.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": "2025-09-19T17:01:48.000+08:00",
        "updateUser": "xyi"
      },
      {
        "id": "22338673235198442",
        "apiDocId": 17278763390731223,
        "seqNumber": 3,
        "demoDesc": "废一个pnr下面的一个旅客直接处理@Void one passenger direct process under pnr.xml",
        "request": "<OTA_AirTicketVoidRQ CancelSeatInd=\"true\">\r\r\n\t<TicketVoidDetails>\r\r\n\t\t<TicketVoidDetail>\r\r\n\t\t\t<BookingReferenceID ID=\"130426114025e10b7bx\"\r\r\n\t\t\t\tID_Context=\"ORDER\" />\r\r\n\t\t\t<TicketItemInfo TicketNumber=\"999-3944318760\" />\r\r\n\t\t</TicketVoidDetail>\r\r\n\t</TicketVoidDetails>\r\r\n</OTA_AirTicketVoidRQ>",
        "response": "<OTA_AirTicketVoidRS OperationNo=\"130426114025e10b7bx\">\n\t<Success>废票操作SUCCESS！</Success>\n</OTA_AirTicketVoidRS>",
        "createTime": "2025-09-04T13:43:38.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": "2025-09-19T17:03:09.000+08:00",
        "updateUser": "xyi"
      },
      {
        "id": "22338673628414761",
        "apiDocId": 17278763390731223,
        "seqNumber": 4,
        "demoDesc": "废一个pnr对应一张票的处理@Void process of one pnr for one ticket.xml",
        "request": "<OTA_AirTicketVoidRQ CancelSeatInd=\"true\">\r\r\n\t<TicketVoidDetails>\r\r\n\t\t<TicketVoidDetail>\r\r\n\t\t\t<BookingReferenceID ID=\"13051614030008f6bcx\"\r\r\n\t\t\t\tID_Context=\"ORDER\" />\r\r\n\t\t\t<TicketItemInfo TicketNumber=\"999-3950300442\" />\r\r\n\t\t</TicketVoidDetail>\r\r\n\t</TicketVoidDetails>\r\r\n</OTA_AirTicketVoidRQ>",
        "response": "<OTA_AirTicketVoidRS OperationNo=\"13051614030008f6bcx\">\n\t<Success>废票操作SUCCESS！</Success>\n</OTA_AirTicketVoidRS>",
        "createTime": "2025-09-04T13:43:39.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": "2025-09-19T17:03:22.000+08:00",
        "updateUser": "xyi"
      },
      {
        "id": "22338673715446441",
        "apiDocId": 17278763390731223,
        "seqNumber": 5,
        "demoDesc": "废两张票直接处理@Void 2 tickets process directly.xml",
        "request": "<OTA_AirTicketVoidRQ CancelSeatInd=\"true\">\r\r\n\t<TicketVoidDetails>\r\r\n\t\t<TicketVoidDetail>\r\r\n\t\t\t<BookingReferenceID ID=\"13051615292520b5f2x\"\r\r\n\t\t\t\tID_Context=\"ORDER\" />\r\r\n\t\t\t<TicketItemInfo TicketNumber=\"999-3950300447\" />\r\r\n\t\t</TicketVoidDetail>\r\r\n\t</TicketVoidDetails>\r\r\n\t<TicketVoidDetails>\r\r\n\t\t<TicketVoidDetail>\r\r\n\t\t\t<BookingReferenceID ID=\"13051615292520b5f2x\"\r\r\n\t\t\t\tID_Context=\"ORDER\" />\r\r\n\t\t\t<TicketItemInfo TicketNumber=\"999-3950300446\" />\r\r\n\t\t</TicketVoidDetail>\r\r\n\t</TicketVoidDetails>\r\r\n</OTA_AirTicketVoidRQ>",
        "response": null,
        "createTime": "2025-09-04T13:43:39.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": null,
        "updateUser": null
      },
      {
        "id": "22338673811915597",
        "apiDocId": 17278763390731223,
        "seqNumber": 6,
        "demoDesc": "本票废票（联票）.xml",
        "request": "<OTA_AirTicketVoidRQ TicketType=\"AL\" CancelSeatInd=\"false\">\r\n    <TicketVoidDetails>\r\n        <TicketVoidDetail>\r\n            <BookingReferenceID ID=\"190611163132bceeee2\" ID_Context=\"ORDER\"/>\r\n            <TicketItemInfo TicketNumber=\"675-3114777066\" EndTicketNumber=\"675-3114777067\"/>\r\n            <TicketPrintNumber>9</TicketPrintNumber>\r\n        </TicketVoidDetail>\r\n    </TicketVoidDetails>\r\n</OTA_AirTicketVoidRQ>",
        "response": null,
        "createTime": "2025-09-04T13:43:39.000+08:00",
        "createUser": "jiangdequan",
        "updateTime": null,
        "updateUser": null
      }
    ],
    "url": "/xml/AirTicketVoidOrder"
  }
}